<html><head><meta content='width=device-width, initial-scale=1' name='viewport'/><meta content='never' name='referrer'/><meta content='text/html; charset=UTF-8' http-equiv='Content-Type'/><meta content='#137FAA' name='theme-color'/><meta content='#137FAA' name='msapplication-navbutton-color'/><meta content='blogger' name='generator'/></head><body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.4.2/shaka-player.ui.min.js" crossorigin="anonymous"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.4.2/controls.min.css" crossorigin="anonymous"><style>body{margin:0!important}[data-shaka-player-container]{width:100%;height:100%;aspect-ratio:16/9}</style><div style="aspect-ratio:16/9"><div data-shaka-player-container="" shaka-controls="true" class="shaka-video-container"><video autoplay="" data-shaka-player="" id="video" style="width:100%;height:100%" class="shaka-video"></video><canvas class="shaka-canvas-container"></canvas></div>


   <script>
async function init() { 
const video = document.getElementById('video'); 
const ui = video['ui']; 
const controls = ui.getControls(); 
const player = controls.getPlayer(); 
player.configure({
  drm: {
    clearKeys: {
      // 'key-id-in-hex': 'key-in-hex',
      "1dfa8a645af41e83c520bddf913934ca": "65f6af8750d24b230d91b984237ac1e4"
    }
  }
            });
            player.addEventListener('error', onPlayerErrorEvent);
            controls.addEventListener('error', onUIErrorEvent);
            try {
                await player.load(manifestUri);
                console.log('The video has now been loaded!');
            } catch (error) {
                onPlayerError(error);
            }
            player.getNetworkingEngine().registerRequestFilter(function(type, request) {
                if (type == shaka.net.NetworkingEngine.RequestType.SEGMENT) {
               //     request.headers['authorization'] = '';
                }
            });
  
//player.configure({drm:{servers:{'com.widevine.alpha':'https://license.dstv.com/widevine/getLicense?CrmId=afl&AccountId=afl&ContentId=SH2&SessionId=D3C00F885C24B9C6&Ticket=C839A8D71AB94299'}}}); 
window.player = player; 
window.ui = ui; 
player.addEventListener('error', onPlayerErrorEvent); 
controls.addEventListener('error', onUIErrorEvent); 
try{await player.load('https://unifi-live27.secureswiftcontent.com/UnifiHD/live09.mpd'); 
console.log('The video has now been loaded!');} catch (error) {onPlayerError(error);}} 
function onPlayerErrorEvent(errorEvent) {onPlayerError(event.detail);} 
function onPlayerError(error) {console.error('Error code', error.code, 'object', error);} 
function onUIErrorEvent(errorEvent) {onPlayerError(event.detail);} 
function initFailed(errorEvent) {console.error('Unable to load the UI library!');} 
document.addEventListener('shaka-ui-loaded', init); 
document.addEventListener('shaka-ui-load-failed', initFailed); 
</script>         
          
</body></html>
