<html>
  <head>
    <script src="https://bsstv.github.io/0584/clpr/min.js"></script>
    <script src="https://bsstv.github.io/0584/clpr/dsh.js"></script>
   <script type="text/javascript" src="https://bsstv.github.io/0584/clpr/dsh.js"></script>

  </head>

  <body>
    <div id="player"></div>
    <script>
      var player = new Clappr.Player(
        {
          source: 'https://linearjitp-playback.astro.com.my/dash-wv/linear/2304/default_ott.mpd',
          plugins:[MediaControl.MainPlugin,MediaControl.PlayPauseButtonPlugin,MediaControl.SeekBarPlugin,MediaControl.FullscreenButtonPlugin,MediaControl.LevelSelectorPlugin,DashShakaPlayback],	
	  shakaConfiguration:{preferredAudioLanguage:"pt-BR",streaming:{rebufferingGoal:15}},			
 
  },
  
  events: {
    onPlay: function() {
      setTimeout(function() {
        var levels = player.getPlaybackQuality();
        console.log(levels); // log the levels
        player.setPlaybackQuality(6); // Change to highest level
      }, 10000); // fired after 10 second playing
    }
  },
          shakaConfiguration: {
						drm: {
                clearKeys: {
                                'a098896d2b11c5f3906a993c3ba5c610': 'f3f842c54cc96cbbd0bcb96a4cb8a813'

                }
            },
            preferredAudioLanguage: 'pt-BR',
            streaming: {
              rebufferingGoal: 15
            }
          },
          shakaOnBeforeLoad: function(shaka_player) {
            // shaka_player.getNetworkingEngine().registerRequestFilter() ...
          },
          parentId: '#player'
        });
    </script>
  </body>
</html>
